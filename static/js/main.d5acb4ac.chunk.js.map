{"version":3,"sources":["App.js","index.js"],"names":["Option","Select","App","useState","includeLuck","setIncludeLuck","attrTotal","setAttrTotal","attribution","setAttribution","diceNumber","setDiceNumber","diceValue","setDiceValue","diceMax","setDiceMax","skillPoint","setSkillPoint","skillName","setSkillName","skillPointRatio","setSkillRatio","skillRes","setSkillRes","SVG","t","class","viewBox","version","xmlns","p-id","width","height","vertical-align","d","fill","randomNumber","max_value","Math","floor","random","toAttrString","arr","length","className","style","direction","size","padding","min","max","value","onChange","checked","e","target","type","onClick","attr","miu","Number","diff","i","Array","j","x","y","minI","indexOf","maxI","console","log","generateAttr","backgroundColor","header","bordered","dataSource","renderItem","item","Item","defaultValue","diceArr","throwDice","toString","color","placeholder","map","skill","allowClear","diceRes","result","skillUsingJudge","fontSize","textAlign","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d5acb4ac.chunk.js","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react'\nimport { Checkbox, InputNumber, Button, List, Space, Layout, Select, Statistic, Input } from 'antd';\nimport 'moment/locale/zh-cn';\nimport './App.css';\nimport { Header } from 'antd/lib/layout/layout';\n\nconst { Option } = Select;\n\nconst App = () => {\n  const [includeLuck, setIncludeLuck] = useState(true)\n  const [attrTotal, setAttrTotal] = useState(425)\n  const [attribution, setAttribution] = useState([\"\", \"\", \"\", \"\", \"\"])\n  const [diceNumber, setDiceNumber] = useState(1)\n  const [diceValue, setDiceValue] = useState([])\n  const [diceMax, setDiceMax] = useState(6)\n  const [skillPoint, setSkillPoint] = useState(50)\n  const [skillName, setSkillName] = useState(\"游泳\")\n  const [skillPointRatio, setSkillRatio] = useState(1.0)\n  const [skillRes, setSkillRes] = useState('')\n  const skillList = [\n    \"侦查\",\n    \"聆听\",\n    \"图书馆使用\",\n    \"母语\",\n    \"攀爬\",\n    \"闪避\",\n    \"斗殴\",\n    \"锁匠\",\n    \"医学\",\n    \"射击\",\n    \"急救\",\n    \"说服\",\n    \"取悦\",\n    \"话术\",\n    \"恐吓\",\n    \"心理学\"\n  ]\n\n  const SVG = () => <svg t=\"1642497827253\" class=\"icon\"\n    viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2306\"\n    width=\"25px\" height=\"25px\" vertical-align=\"super\">\n    <path d=\"M910.145163 0H113.854837A114.143809 114.143809 0 0 0 0 113.854837v796.290326a114.143809 114.143809 0 0 0 113.854837 113.854837h796.290326a114.143809 114.143809 0 0 0 113.854837-113.854837V113.854837A114.259397 114.259397 0 0 0 910.145163 0zM331.797268 331.797268a85.362231 85.362231 0 1 1 0-120.674568 85.188847 85.188847 0 0 1 0 120.674568z m240.540016 240.655605a85.362231 85.362231 0 1 1 0-120.674568A85.188847 85.188847 0 0 1 572.163901 572.510667z m240.655605 240.540016a85.362231 85.362231 0 1 1 0-120.674569 85.188847 85.188847 0 0 1 0.057794 120.732363z\" p-id=\"2307\" fill=\"#FFFFFF\"></path></svg>\n\n  // 生成从1到max_value的随机数\n  const randomNumber = (max_value) => {\n    let result = Math.floor(Math.random() * (max_value) + 1);\n    return result;\n  }\n\n  const toAttrString = (arr) => {\n    if (arr.length === 9) {\n      let res = `力量(STR): ${arr[0]}, 体质(CON): ${arr[1]}, 体型(SIZ): ${arr[2]}, 敏捷(DEX): ${arr[3]}, 外貌(APP): ${arr[4]}, 智力/灵感(INT): ${arr[5]}, 意志(POW): ${arr[6]}, 教育/知识(EDU): ${arr[7]}, 幸运(LUCK): ${arr[8]}`\n      return res\n    } else {\n      let res = `力量(STR): ${arr[0]}, 体质(CON): ${arr[1]}, 体型(SIZ): ${arr[2]}, 敏捷(DEX): ${arr[3]}, 外貌(APP): ${arr[4]}, 智力/灵感(INT): ${arr[5]}, 意志(POW): ${arr[6]}, 教育/知识(EDU): ${arr[7]}`\n      return res\n    }\n  }\n\n  // 生成人物九维属性\n  const generateAttr = () => {\n    let attr = [\"\", \"\", \"\", \"\", \"\"]\n\n    let length = includeLuck ? 9 : 8\n    let miu = Math.floor(Number(attrTotal) / length / 5) * 5\n    let diff = Number(attrTotal) - miu * length\n\n    for (let i = 0; i < 5; i++) {\n      let arr = new Array(length).fill(miu);\n      for (let j = 0; j < 5; j++) {\n        // 增加属性方差\n        let x = randomNumber(length) - 1\n        let y = randomNumber(length) - 1\n        while (x === y) {\n          y = randomNumber(length) - 1\n        }\n        arr[x] += 5\n        arr[y] -= 5\n      }\n      // 避免出现人类难以达到的属性\n      arr[randomNumber(length) - 1] += diff\n      let minI = arr.indexOf(Math.min(...arr))\n      let maxI = arr.indexOf(Math.max(...arr))\n      while (arr[maxI] > 80) {\n        arr[minI] += (arr[maxI] - 80)\n        arr[maxI] -= (arr[maxI] - 80)\n        maxI = arr.indexOf(Math.max(...arr))\n        minI = arr.indexOf(Math.min(...arr))\n      }\n      attr[i] = toAttrString(arr)\n    }\n    console.log(attr)\n    setAttribution(attr)\n  }\n\n  function handleChange(value) {\n    setDiceMax(Number(value))\n    setDiceValue([])\n  }\n\n  const throwDice = (diceMax, diceNumber) => {\n    let diceArr = new Array(diceNumber).fill(1)\n    for (let i = 0; i < diceNumber; i++) {\n      diceArr[i] = randomNumber(diceMax)\n    }\n    setDiceValue(diceArr)\n  }\n\n  const skillUsingJudge = (skillName, skillPoint, skillPointRatio) => {\n    const diceRes = randomNumber(100)\n    const isSuccess = diceRes <= skillPoint * skillPointRatio ? true : false\n    let result = isSuccess ? '成功' : '失败'\n\n    if (diceRes === 1) {\n      result = '大成功！'\n    } else if (diceRes === 100) {\n      result = '大失败！'\n    } else if (diceRes >= 96 && skillPoint < 50) {\n      result = '大失败！'\n    }\n    return `您进行了${skillName}${skillPoint * skillPointRatio}检定：1D100=${diceRes}，${result}`\n  }\n\n  return (\n    <Layout className=\"layout\" style={{ height: '100%' }}>\n      <Space direction='vertical'>\n        <Header >\n          <Space size='middle'>\n            <SVG></SVG>\n            <h1>CoC7th 规则用临时骰子</h1>\n          </Space>\n        </Header>\n        <Layout style={{ padding: '10px 50px' }} className=\"content\">\n\n\n          <h2>人物卡9维属性生成</h2>\n          <div>\n            <Space>\n              属性点总和 =\n              <InputNumber min={120} max={640} value={attrTotal} onChange={setAttrTotal} />\n              <Checkbox\n                checked={includeLuck}\n                onChange={(e) => { setIncludeLuck(e.target.checked) }}\n              />含幸运\n              <Button\n                type=\"primary\"\n                onClick={() => {\n                  generateAttr()\n                }}>\n                随机5组\n              </Button>\n            </Space>\n          </div>\n          <div>\n            <br />\n            <List\n              style={{ backgroundColor: '#FFFFFF' }}\n              size=\"small\"\n              header={<div>生成结果</div>}\n              bordered\n              dataSource={attribution}\n              renderItem={item => <List.Item>{item}</List.Item>}\n            />\n          </div>\n\n\n          <h2><br></br>掷骰</h2>\n          <Space size='middle'>\n            <div>\n              投掷&nbsp;\n              <Select defaultValue=\"6\" style={{ width: 120 }} onChange={handleChange}>\n                <Option value=\"3\">r3骰子</Option>\n                <Option value=\"4\">r4骰子</Option>\n                <Option value=\"6\">r6骰子</Option>\n                <Option value=\"8\">r8骰子</Option>\n                <Option value=\"10\">r10骰子</Option>\n                <Option value=\"20\">r20骰子</Option>\n                <Option value=\"100\">r100骰子</Option>\n              </Select>\n              ，共&nbsp;\n              <InputNumber min={1} max={10} value={diceNumber} onChange={setDiceNumber} size='small' style={{ width: 50 }} />\n              &nbsp;次\n            </div>\n            <Button\n              type=\"primary\"\n              onClick={() => { throwDice(diceMax, diceNumber) }}>\n              掷骰子\n            </Button>\n          </Space>\n          <Space>\n            <p><br />您抛出了{diceNumber}个r{diceMax}骰子：结果为</p>\n            <Statistic value={diceValue.toString()} style={{ color: '#003a8c' }} />\n          </Space>\n\n\n          <h2><br />技能检定</h2>\n          <Space direction='vertical'>\n            <Space>\n              技能名称选择\n              <Select\n                defaultValue=\"侦查\"\n                style={{ width: 120 }}\n                placeholder=\"选择要检定的技能\"\n                onChange={(value) => { setSkillName(value) }}\n              >\n                {skillList.map(skill => (\n                  <Option key={skill}>{skill}</Option>\n                ))}\n              </Select>\n              或输入\n              <Input allowClear value={skillName} onChange={(e) => { setSkillName(e.target.value) }}\n                style={{ width: '120px' }} ></Input>\n            </Space>\n            <Space>\n              数值\n              <InputNumber min={1} max={100} value={skillPoint} onChange={setSkillPoint} />\n              难度\n              <Select placeholder=\"检定难度\" defaultValue=\"1.0\" onChange={(value) => { setSkillRatio(Number(value)) }}>\n                <Option value=\"1.0\">普通成功</Option>\n                <Option value=\"0.5\">困难成功</Option>\n                <Option value=\"0.2\">极难成功</Option>\n              </Select>\n              <Button\n                type=\"primary\"\n                onClick={() => { setSkillRes(skillUsingJudge(skillName, skillPoint, skillPointRatio)) }}>\n                进行检定\n              </Button>\n            </Space>\n            <div style={{ fontSize: 'smaller' }}>* 此处大成功大失败采用官方规则，若使用房规可以只取骰子数字为准</div>\n            <div>{skillRes}</div>\n          </Space>\n\n\n        </Layout>\n      </Space>\n      <Layout style={{ textAlign: 'center', height: '100%' }} >\n        <p>\n          Copyright © Sayaka-4987 2022<br />\n          Powered by React and Ant Design\n        </p>\n      </Layout>\n    </Layout>\n  )\n}\n\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App.js'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}